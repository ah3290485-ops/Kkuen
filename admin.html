
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</title>

  <!-- Supabase -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="supabase.js"></script>

  <!-- Style -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="box" id="adminBox" style="display:none;">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</h2>

    <p class="small">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù†Ù‚Ø§Ø·</p>

    <hr style="margin:20px 0; opacity:0.3">

    <input type="email" placeholder="Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
    <input type="number" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø·">

    <button>â• Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø·</button>
    <button>â– Ø®ØµÙ… Ù†Ù‚Ø§Ø·</button>

    <hr style="margin:20px 0; opacity:0.3">

    <button>ğŸ“„ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</button>

    <a href="dashboard.html">â¬… Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
  </div>

  <script>
    const ADMIN_EMAIL = "am.alsus1995@gmail.com";

    async function checkAdmin() {
      const { data } = await supabase.auth.getUser();

      if (!data || !data.user) {
        // Ù…Ùˆ Ù…Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„
        window.location.href = "login.html";
        return;
      }

      if (data.user.email !== ADMIN_EMAIL) {
        // Ù…Ùˆ Ø£Ø¯Ù…Ù†
        alert("ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„");
        window.location.href = "dashboard.html";
        return;
      }

      // Ø£Ø¯Ù…Ù† âœ”ï¸
      document.getElementById("adminBox").style.display = "block";
    }

    checkAdmin();
  </script>

</body>
</html>
